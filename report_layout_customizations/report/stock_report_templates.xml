<?xml version="1.0"?>
<odoo>
    <record id="report_delivery_document" model="ir.ui.view">
        <field name="name">report_delivery_document_with_default_code</field>
        <field name="inherit_id" ref="stock.report_delivery_document" />
        <field name="arch" type="xml">

            <!-- move -->
            <xpath expr="//th[@name='th_sm_product']" position="before">
                <th name="th_sm_default_code"><strong>Internal Reference</strong></th>
            </xpath>
            <xpath expr="//tr[@t-as='move']/td/span[@t-field='move.product_id']" position="attributes">
                <attribute name="t-field">move.product_id.name</attribute>
            </xpath>
            <xpath expr="//tr[@t-as='move']/td" position="before">
                <td>
                    <span t-field="move.product_id.default_code" />
                </td>
            </xpath>

            <!-- move_line -->
            <xpath expr="//th[@name='th_sml_product']" position="before">
                <th name="th_sml_default_code"><strong>Internal Reference</strong></th>
            </xpath>
            <xpath expr="//tr[@t-as='move_line']/td/span[@t-field='move_line.product_id']" position="attributes">
                <attribute name="t-field">move_line.product_id.name</attribute>
            </xpath>
            <xpath expr="//tr[@t-as='move_line']/td" position="before">
                <td>
                    <span t-field="move_line.product_id.default_code" />
                </td>
            </xpath>

        </field>
    </record>
</odoo>
